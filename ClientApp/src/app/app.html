<div class="container">
  <header>
    <h2>Bus Ticket Reservation System</h2>
  </header>

  <form class="search-form" #searchForm="ngForm" (ngSubmit)="onSearchSubmit(searchForm)">

    <div class="form-group">
      <label for="from">GOING FROM</label>
      <input type="text" id="from" name="from" [(ngModel)]="searchModel.from" required>
    </div>

    <div class="form-group">
      <label for="to">GOING TO</label>
      <input type="text" id="to" name="to" [(ngModel)]="searchModel.to" required>
    </div>

    <div class="form-group">
      <label for="journeyDate">JOURNEY DATE</label>
      <input type="date" id="journeyDate" name="journeyDate" [(ngModel)]="searchModel.journeyDate" required>
    </div>

    <div class="form-group">
      <button type="submit" class="btn-search" [disabled]="searchForm.invalid || isLoading">
        {{ isLoading ? 'Searching...' : 'Search Bus' }}
      </button>
    </div>
  </form>

  <div class="results-container">

    <div *ngIf="isLoading" class="loading-spinner">
      Loading results...
    </div>

    <div *ngIf="searchError" class="error-message">
      {{ searchError }}
    </div>

    <div *ngIf="!isLoading && searchResults.length === 0 && !searchError" class="no-results">
      No buses found for this route.
    </div>

    <div *ngIf="!isLoading && searchResults.length > 0" class="results-list">
      <h3>Available Buses ({{ searchResults.length }})</h3>

      <div *ngFor="let bus of searchResults" class="bus-card">
        <div class="card-left">
          <h4>{{ bus.companyName }}</h4>
          <p>{{ bus.busName }}</p>
        </div>
        <div class="card-middle">
          <p><strong>Starts:</strong> {{ bus.startTime | date: 'shortTime' }}</p>
          <p><strong>Arrives:</strong> {{ bus.arrivalTime | date: 'shortTime' }}</p>
        </div>
        <div class="card-right">
          <p>Seats Left: <strong>{{ bus.seatsLeft }}</strong></p>
          <p>Price: <strong>{{ bus.price | currency: 'à§³' }}</strong></p>
        </div>
        <div class="card-action">
          <button class="btn-view-seats">View Seats</button>
        </div>
      </div>

    </div>
  </div>
</div>